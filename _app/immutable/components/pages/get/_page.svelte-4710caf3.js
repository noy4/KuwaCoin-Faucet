import{S as U,i as j,s as z,k as w,q as P,a as N,w as J,l as E,m as y,r as A,h as i,c as K,x as R,n as d,b as T,D as f,y as F,f as Q,t as X,z as Z,C as V,J as Y,N as G,E as H,u as B,M as x,G as $}from"../../../chunks/index-91784bb5.js";import{w as ee,k as te,f as se,n as O,u as W}from"../../../chunks/Toast.svelte_svelte_type_style_lang-86becc2b.js";import{t as ae}from"../../../chunks/i18n-a7df43d4.js";import{C as le}from"../../../chunks/Card-b75d89ec.js";function re(o){let t=(o[0]?W.formatEther(o[0]).toLocaleString():"-")+"",e;return{c(){e=P(t)},l(a){e=A(a,t)},m(a,n){T(a,e,n)},p(a,n){n&1&&t!==(t=(a[0]?W.formatEther(a[0]).toLocaleString():"-")+"")&&B(e,t)},d(a){a&&i(e)}}}function oe(o){let t;return{c(){t=P("-")},l(e){t=A(e,"-")},m(e,a){T(e,t,a)},p:$,d(e){e&&i(t)}}}function M(o){let t,e;return{c(){t=w("p"),e=P(o[4]),this.h()},l(a){t=E(a,"P",{class:!0});var n=y(t);e=A(n,o[4]),n.forEach(i),this.h()},h(){d(t,"class","text-error pt-4 svelte-14aqq6a")},m(a,n){T(a,t,n),f(t,e)},p(a,n){n&16&&B(e,a[4])},d(a){a&&i(t)}}}function ne(o){let t,e,a,n=o[5]("Your wallet address:")+"",m,h,u,_,k,q,p,v,b=o[5]("Give me KWC")+"",C,c,g,r=o[4]&&M(o);return{c(){t=w("div"),e=w("label"),a=w("span"),m=P(n),h=N(),u=w("input"),k=N(),r&&r.c(),q=N(),p=w("div"),v=w("button"),C=P(b),this.h()},l(s){t=E(s,"DIV",{class:!0});var l=y(t);e=E(l,"LABEL",{for:!0,class:!0});var S=y(e);a=E(S,"SPAN",{class:!0});var I=y(a);m=A(I,n),I.forEach(i),S.forEach(i),h=K(l),u=E(l,"INPUT",{id:!0,placeholder:!0,class:!0}),l.forEach(i),k=K(s),r&&r.l(s),q=K(s),p=E(s,"DIV",{class:!0});var D=y(p);v=E(D,"BUTTON",{class:!0});var L=y(v);C=A(L,b),L.forEach(i),D.forEach(i),this.h()},h(){d(a,"class",""),d(e,"for","to-address"),d(e,"class","label"),d(u,"id","to-address"),d(u,"placeholder",_=o[5]("Input your wallet address")),d(u,"class","input input-bordered w-full max-w-xs svelte-14aqq6a"),d(t,"class","form-control w-full max-w-xs svelte-14aqq6a"),d(v,"class","btn btn-primary normal-case svelte-14aqq6a"),Y(v,"loading",o[3]),d(p,"class","card-actions justify-end mt-4 svelte-14aqq6a")},m(s,l){T(s,t,l),f(t,e),f(e,a),f(a,m),f(t,h),f(t,u),G(u,o[2]),T(s,k,l),r&&r.m(s,l),T(s,q,l),T(s,p,l),f(p,v),f(v,C),c||(g=[H(u,"input",o[9]),H(v,"click",o[6])],c=!0)},p(s,l){l&32&&n!==(n=s[5]("Your wallet address:")+"")&&B(m,n),l&32&&_!==(_=s[5]("Input your wallet address"))&&d(u,"placeholder",_),l&4&&u.value!==s[2]&&G(u,s[2]),s[4]?r?r.p(s,l):(r=M(s),r.c(),r.m(q.parentNode,q)):r&&(r.d(1),r=null),l&32&&b!==(b=s[5]("Give me KWC")+"")&&B(C,b),l&8&&Y(v,"loading",s[3])},d(s){s&&i(t),s&&i(k),r&&r.d(s),s&&i(q),s&&i(p),c=!1,x(g)}}}function ce(o){let t,e,a,n,m,h,u,_,k,q,p,v,b,C;function c(s,l){return s[1]&&!s[0]?oe:re}let g=c(o),r=g(o);return p=new le({props:{class:"mt-8 p-8",$$slots:{default:[ne]},$$scope:{ctx:o}}}),{c(){t=w("section"),e=w("h3"),a=P("You have"),n=N(),m=w("div"),h=w("span"),r.c(),u=N(),_=w("span"),k=P("KWC"),q=N(),J(p.$$.fragment),v=N(),b=w("div"),this.h()},l(s){t=E(s,"SECTION",{class:!0});var l=y(t);e=E(l,"H3",{class:!0});var S=y(e);a=A(S,"You have"),S.forEach(i),n=K(l),m=E(l,"DIV",{class:!0});var I=y(m);h=E(I,"SPAN",{class:!0});var D=y(h);r.l(D),D.forEach(i),u=K(I),_=E(I,"SPAN",{class:!0});var L=y(_);k=A(L,"KWC"),L.forEach(i),I.forEach(i),q=K(l),R(p.$$.fragment,l),v=K(l),b=E(l,"DIV",{class:!0}),y(b).forEach(i),l.forEach(i),this.h()},h(){d(e,"class","text-xl font-bold mt-8 svelte-14aqq6a"),d(h,"class","text-5xl font-semibold svelte-14aqq6a"),d(_,"class","font-bold svelte-14aqq6a"),d(m,"class","mt-2 svelte-14aqq6a"),d(b,"class","h-16 svelte-14aqq6a"),d(t,"class","flex flex-col items-center px-4 svelte-14aqq6a")},m(s,l){T(s,t,l),f(t,e),f(e,a),f(t,n),f(t,m),f(m,h),r.m(h,null),f(m,u),f(m,_),f(_,k),f(t,q),F(p,t,null),f(t,v),f(t,b),C=!0},p(s,[l]){g===(g=c(s))&&r?r.p(s,l):(r.d(1),r=g(s),r&&(r.c(),r.m(h,null)));const S={};l&4156&&(S.$$scope={dirty:l,ctx:s}),p.$set(S)},i(s){C||(Q(p.$$.fragment,s),C=!0)},o(s){X(p.$$.fragment,s),C=!1},d(s){s&&i(t),r.d(),Z(p)}}}function ie(o,t,e){let a,n,m;V(o,ee,c=>e(7,a=c)),V(o,te,c=>e(8,n=c)),V(o,ae,c=>e(5,m=c));let h,u=!1,_="",k=!1,q="";async function p(){var c;e(3,k=!0),e(4,q="");try{await(await se.requestTokens(_)).wait(),O.success("KuwaCoin \u3092\u7372\u5F97\u3057\u307E\u3057\u305F")}catch(g){const r=((c=g.error)==null?void 0:c.reason)||g;console.error(r),O.error(r),e(4,q="Something went wrong")}finally{e(3,k=!1)}}async function v(){if(!n||!a){e(0,h=void 0);return}e(1,u=!0),e(0,h=await n.balanceOf(a.address)),e(1,u=!1)}function b(...c){!a||!n||(console.log("Transfer:",{from:c[0].slice(2,5),to:c[1].slice(2,5),amount:W.formatEther(c[2]),txHash:c[3].transactionHash.slice(2,5)}),v())}function C(){_=this.value,e(2,_),e(7,a)}return o.$$.update=()=>{o.$$.dirty&128&&(e(2,_=(a==null?void 0:a.address)||""),e(4,q="")),o.$$.dirty&256&&n&&(n.on("Transfer",b),v()),o.$$.dirty&128&&(a||e(0,h=void 0))},[h,u,_,k,q,m,p,a,n,C]}class de extends U{constructor(t){super(),j(this,t,ie,ce,z,{})}}export{de as default};

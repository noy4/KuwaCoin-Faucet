import{S as U,i as j,s as z,k as b,q as N,a as L,w as F,l as w,m as g,r as B,h as i,c as K,x as R,n as _,b as S,F as c,y as J,f as Q,t as X,z as Z,C as D,o as x,I as W,M as G,G as H,u as Y,L as $,D as ee}from"../../../chunks/index-a8999783.js";import{u as te,k as se,w as ae,l as le,n as M}from"../../../chunks/Toast.svelte_svelte_type_style_lang-f31f10e8.js";import{t as re}from"../../../chunks/i18n-bde82f00.js";import{p as oe,f as V}from"../../../chunks/index-47c0a5fe.js";import{C as ne}from"../../../chunks/Card-eba9b62a.js";function ie(o){let s=(o[5]?V(o[5]).toLocaleString():"-")+"",a;return{c(){a=N(s)},l(r){a=B(r,s)},m(r,n){S(r,a,n)},p(r,n){n&32&&s!==(s=(r[5]?V(r[5]).toLocaleString():"-")+"")&&Y(a,s)},d(r){r&&i(a)}}}function ce(o){let s;return{c(){s=N("-")},l(a){s=B(a,"-")},m(a,r){S(a,s,r)},p:ee,d(a){a&&i(s)}}}function O(o){let s,a;return{c(){s=b("p"),a=N(o[2]),this.h()},l(r){s=w(r,"P",{class:!0});var n=g(s);a=B(n,o[2]),n.forEach(i),this.h()},h(){_(s,"class","text-error pt-4 svelte-14aqq6a")},m(r,n){S(r,s,n),c(s,a)},p(r,n){n&4&&Y(a,r[2])},d(r){r&&i(s)}}}function ue(o){let s,a,r,n=o[3]("Your wallet address:")+"",u,q,f,d,E,h,p,m,v=o[3]("Give me KWC")+"",k,y,C,t=o[2]&&O(o);return{c(){s=b("div"),a=b("label"),r=b("span"),u=N(n),q=L(),f=b("input"),E=L(),t&&t.c(),h=L(),p=b("div"),m=b("button"),k=N(v),this.h()},l(e){s=w(e,"DIV",{class:!0});var l=g(s);a=w(l,"LABEL",{for:!0,class:!0});var I=g(a);r=w(I,"SPAN",{class:!0});var T=g(r);u=B(T,n),T.forEach(i),I.forEach(i),q=K(l),f=w(l,"INPUT",{id:!0,placeholder:!0,class:!0}),l.forEach(i),E=K(e),t&&t.l(e),h=K(e),p=w(e,"DIV",{class:!0});var P=g(p);m=w(P,"BUTTON",{class:!0});var A=g(m);k=B(A,v),A.forEach(i),P.forEach(i),this.h()},h(){_(r,"class",""),_(a,"for","to-address"),_(a,"class","label"),_(f,"id","to-address"),_(f,"placeholder",d=o[3]("Input your wallet address")),_(f,"class","input input-bordered w-full max-w-xs svelte-14aqq6a"),_(s,"class","form-control w-full max-w-xs svelte-14aqq6a"),_(m,"class","btn btn-primary normal-case svelte-14aqq6a"),W(m,"loading",o[1]),_(p,"class","card-actions justify-end mt-4 svelte-14aqq6a")},m(e,l){S(e,s,l),c(s,a),c(a,r),c(r,u),c(s,q),c(s,f),G(f,o[0]),S(e,E,l),t&&t.m(e,l),S(e,h,l),S(e,p,l),c(p,m),c(m,k),y||(C=[H(f,"input",o[10]),H(m,"click",o[6])],y=!0)},p(e,l){l&8&&n!==(n=e[3]("Your wallet address:")+"")&&Y(u,n),l&8&&d!==(d=e[3]("Input your wallet address"))&&_(f,"placeholder",d),l&1&&f.value!==e[0]&&G(f,e[0]),e[2]?t?t.p(e,l):(t=O(e),t.c(),t.m(h.parentNode,h)):t&&(t.d(1),t=null),l&8&&v!==(v=e[3]("Give me KWC")+"")&&Y(k,v),l&2&&W(m,"loading",e[1])},d(e){e&&i(s),e&&i(E),t&&t.d(e),e&&i(h),e&&i(p),y=!1,$(C)}}}function fe(o){let s,a,r,n,u,q,f,d,E,h,p,m,v,k;function y(e,l){return e[4]&&!e[5]?ce:ie}let C=y(o),t=C(o);return p=new ne({props:{class:"mt-8 p-8",$$slots:{default:[ue]},$$scope:{ctx:o}}}),{c(){s=b("section"),a=b("h3"),r=N("You have"),n=L(),u=b("div"),q=b("span"),t.c(),f=L(),d=b("span"),E=N("KWC"),h=L(),F(p.$$.fragment),m=L(),v=b("div"),this.h()},l(e){s=w(e,"SECTION",{class:!0});var l=g(s);a=w(l,"H3",{class:!0});var I=g(a);r=B(I,"You have"),I.forEach(i),n=K(l),u=w(l,"DIV",{class:!0});var T=g(u);q=w(T,"SPAN",{class:!0});var P=g(q);t.l(P),P.forEach(i),f=K(T),d=w(T,"SPAN",{class:!0});var A=g(d);E=B(A,"KWC"),A.forEach(i),T.forEach(i),h=K(l),R(p.$$.fragment,l),m=K(l),v=w(l,"DIV",{class:!0}),g(v).forEach(i),l.forEach(i),this.h()},h(){_(a,"class","text-xl font-bold mt-8 svelte-14aqq6a"),_(q,"class","text-5xl font-semibold svelte-14aqq6a"),_(d,"class","font-bold svelte-14aqq6a"),_(u,"class","mt-2 svelte-14aqq6a"),_(v,"class","h-16 svelte-14aqq6a"),_(s,"class","flex flex-col items-center px-4 svelte-14aqq6a")},m(e,l){S(e,s,l),c(s,a),c(a,r),c(s,n),c(s,u),c(u,q),t.m(q,null),c(u,f),c(u,d),c(d,E),c(s,h),J(p,s,null),c(s,m),c(s,v),k=!0},p(e,[l]){C===(C=y(e))&&t?t.p(e,l):(t.d(1),t=C(e),t&&(t.c(),t.m(q,null)));const I={};l&16399&&(I.$$scope={dirty:l,ctx:e}),p.$set(I)},i(e){k||(Q(p.$$.fragment,e),k=!0)},o(e){X(p.$$.fragment,e),k=!1},d(e){e&&i(s),t.d(),Z(p)}}}function pe(o,s,a){let r,n,u,q,f;D(o,se,t=>a(11,r=t)),D(o,ae,t=>a(9,n=t)),D(o,re,t=>a(3,u=t));let d="",E=!1,h="";async function p(){var t;a(1,E=!0),a(2,h="");try{await(await le.requestTokens(d,{value:oe("0.001")})).wait(),M.success(u("You've got Kuwa Coin"))}catch(e){const l=((t=e.error)==null?void 0:t.reason)||e;console.error(l),M.error(l),a(2,h=u("Something went wrong"))}finally{a(1,E=!1)}}const{isLoading:m,data:v,fetch:k}=te({immediate:!1});D(o,m,t=>a(4,q=t)),D(o,v,t=>a(5,f=t));function y(...t){!n||(console.log("Transfer:",{from:t[0].slice(2,5),to:t[1].slice(2,5),amount:V(t[2]),txHash:t[3].transactionHash.slice(2,5)}),k())}x(()=>{r.on("Transfer",y)});function C(){d=this.value,a(0,d),a(9,n)}return o.$$.update=()=>{o.$$.dirty&512&&n&&k(),o.$$.dirty&512&&(n||v.set(void 0)),o.$$.dirty&512&&(a(0,d=(n==null?void 0:n.address)||""),a(2,h=""))},[d,E,h,u,q,f,p,m,v,n,C]}class qe extends U{constructor(s){super(),j(this,s,pe,fe,z,{})}}export{qe as default};
